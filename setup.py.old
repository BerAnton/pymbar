"""
The pymbar package contains the pymbar suite of tools for the analysis of
simulated and experimental data with the multistate Bennett acceptance
ratio (MBAR) estimator.

"""
from distutils.core import setup
from setuptools import setup, Extension, find_packages
import numpy
import versioneer


################################################################################
# Installation
################################################################################


def buildKeywordDictionary():
    from distutils.core import Extension

    setupKeywords = {}
    setupKeywords["download_url"] = "http://github.com/choderalab/pymbar"
    # setupKeywords["py_modules"]        = ["pymbar", "timeseries", "testsystems", "confidenceintervals"]
    # setupKeywords["test_suite"]        = "tests" # requires we migrate to setuptools
    setupKeywords["platforms"] = ["Linux", "Mac OS X", "Windows"]
    setupKeywords[
        "description"
    ] = "Python implementation of the multistate Bennett acceptance ratio (MBAR) method."
    setupKeywords["requires"] = ["numpy", "scipy", "numexpr"]
    setupKeywords["tests_require"] = ["pytest", "statsmodel", "flaky"]
    outputString = ""
    firstTab = 40
    secondTab = 60
    for key in sorted(setupKeywords.keys()):
        value = setupKeywords[key]
        outputString += key.rjust(firstTab) + str(value).rjust(secondTab) + "\n"

    print("%s" % outputString)

    # get_config_var(None)  # this line is necessary to fix the imports Mac OS X
    return setupKeywords


def main():
    setupKeywords = buildKeywordDictionary()
    setup(**setupKeywords)


if __name__ == "__main__":
    main()
